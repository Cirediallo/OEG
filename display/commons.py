import nltk
from nltk.corpus import stopwords
from nltk.probability import FreqDist
import re
import csv
import math

nltk.download('omw-1.4')
nltk.download('punkt')
nltk.download('wordnet')

stop_words_en =  ['baby', 'basically', 'top', 'bottom', 'up', 'down', 'yes', 'no', 'dr', 'yeah', 'weren', 'should', 'or', 'can', "you've", 'not', 'wasn', 'for', 'nor', 'itself', 'above', 'with', 'are', "you're", 'mightn', 'whom', "that'll", "haven't", 'but', 'yourselves', 'few', 'its', 'these', 'doesn', 'a', 'in', 'then', 'did', 'after', 'same', 'too', 'll', "shouldn't", "hasn't", 'wouldn', 'over', 'now', 'that', 'mustn', 'own', 'couldn', 'your', 'which', 'been', "doesn't", "aren't", 'each', 'against', "it's", 'up', 'their', 'his', 'further', 'than', 'didn', 'were', 'ours', 'd', 'only', 'shan', 'you', 'and', 'all', 'from', 'this', 'because', "you'll", 'very', 'just', 'having', 'o', 'does', 'before', 'other', 'at', 'by', 'out', 'yours', "shan't", 'doing', 'down', "you'd", 'as', 'under', 'my', 'themselves', "hadn't", "didn't", 'such', 'was', 'do', 'will', 'ma', 'ourselves', 'more', 'him', 'some', 'isn', "mightn't", 'shouldn', 'me', 'into', 'hers', 'himself', 'he', 'no', 'her', "needn't", 'how', 't', 'on', 'i', 'it', 'an', 'here', 'during', 'yourself', 'where', 're', 'needn', "wasn't", 'why', 'had', 'aren', 'has', "wouldn't", 'myself', 'between', 've', 'below', 'is', 'who', 'when', 'am', 'while', 'there', "mustn't", "couldn't", 'won', "won't", 'them', 'be', 'of', 'don', "she's", 'about', 'if', "should've", 's', 'most', 'again', 'we', 'any', 'ain', 'herself', 'until', 'm', 'the', 'being', 'our', 'have', 'so', "don't", 'off', 'haven', 'to', "isn't", "weren't", 'what', 'through', 'once', 'hasn', 'they', 'she', 'hadn', 'theirs', 'y', 'those', 'both', "able","about","above","abroad","according","accordingly","across","actually","adj","after","afterwards","again","against","ago","ahead","ain't","all","allow","allows","almost","alone","along","alongside","already","also","although","always","am","amid","amidst","among","amongst","an","and","another","any","anybody","anyhow","anyone","anything","anyway","anyways","anywhere","apart","appear","appreciate","appropriate","are","aren't","around","as","a's","aside","ask","asking","associated","at","available","away","awfully","back","backward","backwards","be","became","because","become","becomes","becoming","been","before","beforehand","begin","behind","being","believe","below","beside","besides","best","better","between","beyond","both","brief","but","by","came","can","cannot","cant","can't","caption","cause","causes","certain","certainly","changes","clearly","c'mon","co","co.","com","come","comes","concerning","consequently","consider","considering","contain","containing","contains","corresponding","could","couldn't","course","c's","currently","dare","daren't","definitely","described","despite","did","didn't","different","directly","do","does","doesn't","doing","done","don't","down","downwards","during","each","edu","eg","eight","eighty","either","else","elsewhere","end","ending","enough","entirely","especially","et","etc","even","ever","evermore","every","everybody","everyone","everything","everywhere","ex","exactly","example","except","fairly","far","farther","few","fewer","fifth","first","five","followed","following","follows","for","forever","former","formerly","forth","forward","found","four","from","further","furthermore","get","gets","getting","given","gives","go","goes","going","gone","got","gotten","greetings","had","hadn't","half","happens","hardly","has","hasn't","have","haven't","having","he","he'd","he'll","hello","help","hence","her","here","hereafter","hereby","herein","here's","hereupon","hers","herself","he's","hi","him","himself","his","hither","hopefully","how","howbeit","however","hundred","i'd","ie","if","ignored","i'll","i'm","immediate","in","inasmuch","inc","inc.","indeed","indicate","indicated","indicates","inner","inside","insofar","instead","into","inward","is","isn't","it","it'd","it'll","its","it's","itself","i've","just","k","keep","keeps","kept","know","known","knows","last","lately","later","latter","latterly","least","less","lest","let","let's","like","liked","likely","likewise","little","look","looking","looks","low","lower","ltd","made","mainly","make","makes","many","may","maybe","mayn't","me","mean","meantime","meanwhile","merely","might","mightn't","mine","minus","miss","more","moreover","most","mostly","mr","mrs","much","must","mustn't","my","myself","name","namely","nd","near","nearly","necessary","need","needn't","needs","neither","never","neverf","neverless","nevertheless","new","next","nine","ninety","no","nobody","non","none","nonetheless","noone","no-one","nor","normally","not","nothing","notwithstanding","novel","now","nowhere","obviously","of","off","often","oh","ok","okay","old","on","once","one","ones","one's","only","onto","opposite","or","other","others","otherwise","ought","oughtn't","our","ours","ourselves","out","outside","over","overall","own","particular","particularly","past","per","perhaps","placed","please","plus","possible","presumably","probably","provided","provides","que","quite","qv","rather","rd","re","really","reasonably","recent","recently","regarding","regardless","regards","relatively","respectively","right","round","said","same","saw","say","saying","says","second","secondly","see","seeing","seem","seemed","seeming","seems","seen","self","selves","sensible","sent","serious","seriously","seven","several","shall","shan't","she","she'd","she'll","she's","should","shouldn't","since","six","so","some","somebody","someday","somehow","someone","something","sometime","sometimes","somewhat","somewhere","soon","sorry","specified","specify","specifying","still","sub","such","sup","sure","take","taken","taking","tell","tends","th","than","thank","thanks","thanx","that","that'll","thats","that's","that've","the","their","theirs","them","themselves","then","thence","there","thereafter","thereby","there'd","therefore","therein","there'll","there're","theres","there's","thereupon","there've","these","they","they'd","they'll","they're","they've","thing","things","think","third","thirty","this","thorough","thoroughly","those","though","three","through","throughout","thru","thus","till","to","together","too","took","toward","towards","tried","tries","truly","try","trying","t's","twice","two","un","under","underneath","undoing","unfortunately","unless","unlike","unlikely","until","unto","up","upon","upwards","us","use","used","useful","uses","using","usually","v","value","various","versus","very","via","viz","vs","want","wants","was","wasn't","way","we","we'd","welcome","well","we'll","went","were","we're","weren't","we've","what","whatever","what'll","what's","what've","when","whence","whenever","where","whereafter","whereas","whereby","wherein","where's","whereupon","wherever","whether","which","whichever","while","whilst","whither","who","who'd","whoever","whole","who'll","whom","whomever","who's","whose","why","will","willing","wish","with","within","without","wonder","won't","would","wouldn't","yes","yet","you","you'd","you'll","your","you're","yours","yourself","yourselves","you've","zero","a","how's","i","when's","why's","b","c","d","e","f","g","h","j","l","m","n","o","p","q","r","s","t","u","uucp","w","x","y","z","I","www","amount","bill","bottom","call","computer","con","couldnt","cry","de","describe","detail","due","eleven","empty","fifteen","fifty","fill","find","fire","forty","front","full","give","hasnt","herse","himse","interest","itse”","mill","move","myse”","part","put","show","side","sincere","sixty","system","ten","thick","thin","top","twelve","twenty","abst","accordance","act","added","adopted","affected","affecting","affects","ah","announce","anymore","apparently","approximately","aren","arent","arise","auth","beginning","beginnings","begins","biol","briefly","ca","date","ed","effect","et-al","ff","fix","gave","giving","heres","hes","hid","home","id","im","immediately","importance","important","index","information","invention","itd","keys","kg","km","largely","lets","line","'ll","means","mg","million","ml","mug","na","nay","necessarily","nos","noted","obtain","obtained","omitted","ord","owing","page","pages","poorly","possibly","potentially","pp","predominantly","present","previously","primarily","promptly","proud","quickly","ran","readily","ref","refs","related","research","resulted","resulting","results","run","sec","section","shed","shes","showed","shown","showns","shows","significant","significantly","similar","similarly","slightly","somethan","specifically","state","states","stop","strongly","substantially","successfully","sufficiently","suggest","thered","thereof","therere","thereto","theyd","theyre","thou","thoughh","thousand","throug","til","tip","ts","ups","usefully","usefulness","'ve","vol","vols","wed","whats","wheres","whim","whod","whos","widely","words","world","youd","youre"]

stop_words_fr =  ['bébé', 'bas', 'haut', 'généralement', 'pouvez', 'chose', 'donne', 'pense', 'aller', 'travers', 'puis', 'choses', 'veux', 'savais', 'savez', 'non', 'oui', 'irait', 'dis', 'vois', 'etça', 'sais', 'être', 'dire', 'dit', 'déjà', 'bordel','ouais', 'putin', 'de', 'avez', 'seras', 'ayant', 'aux', 'avais', 'ton', 'auront', 'eût', 'était', 'n', 'serai', 'auriez', 'avait', 'étée', 'sera', 'par', 'votre', 'des', 'ou', 'fussions', 'serons', 'soit', 'fûmes', 'se', 'serions', 'est', 'fussiez', 'elle', 'te', 'tu', 'pour', 'fût', 'vos', 'soient', 'avions', 'sont', 'aient', 'eut', 'été', 'étions', 'ces', 'à', 'fusses', 'étants', 'notre', 'ayants', 'que', 'étante', 'd', 'aurai', 'étant', 'fus', 'sur', 'serais', 'auras', 'fûtes', 'ayantes', 'le', 'aies', 'ce', 'mon', 'avec', 'qu', 'un', 'vous', 'leur', 'étaient', 'eusse', 'seront', 'mais', 'eue', 'es', 'fussent', 'ta', 'as', 'aurions', 'qui', 'c', 'dans', 'ayante', 'eu', 'ayons', 'ma', 'du', 'eussiez', 'au', 'me', 'même', 'eussent', 'aviez', 'avaient', 'étiez', 'aura', 't', 'lui', 'on', 'êtes', 'fut', 'son', 'sa', 'ses', 'sommes', 'eûtes', 'ont', 'eux', 'eues', 'soyez', 'aurons', 'nos', 'seriez', 'ait', 'l', 'ils', 'et', 'étais', 'eus', 'avons', 'eusses', 'il', 'je', 'j', 'eûmes', 'mes', 'la', 'étantes', 'seraient', 's', 'ai', 'serez', 'eurent', 'm', 'aie', 'les', 'moi', 'serait', 'étés', 'une', 'suis', 'tes', 'auraient', 'en', 'étées', 'aurait', 'toi', 'sois', 'soyons', 'fusse', 'eussions', 'ne', 'aurais', 'nous', 'aurez', 'furent', 'y', 'pas', 'ayez', "a","à","â","abord","afin","ah","ai","aie","ainsi","allaient","allo","allô","allons","après","assez","attendu","au","aucun","aucune","aujourd","aujourd'hui","auquel","aura","auront","aussi","autre","autres","aux","auxquelles","auxquels","avaient","avais","avait","avant","avec","avoir","ayant","b","bah","beaucoup","bien","bigre","boum","bravo","brrr","c","ça","car","ce","ceci","cela","celle","celle-ci","celle-là","celles","celles-ci","celles-là","celui","celui-ci","celui-là","cent","cependant","certain","certaine","certaines","certains","certes","ces","cet","cette","ceux","ceux-ci","ceux-là","chacun","chaque","cher","chère","chères","chers","chez","chiche","chut","ci","cinq","cinquantaine","cinquante","cinquantième","cinquième","clac","clic","combien","comme","comment","compris","concernant","contre","couic","crac","d","da","dans","de","debout","dedans","dehors","delà","depuis","derrière","des","dès","désormais","desquelles","desquels","dessous","dessus","deux","deuxième","deuxièmement","devant","devers","devra","différent","différente","différentes","différents","dire","divers","diverse","diverses","dix","dix-huit","dixième","dix-neuf","dix-sept","doit","doivent","donc","dont","douze","douzième","dring","du","duquel","durant","e","effet","eh","elle","elle-même","elles","elles-mêmes","en","encore","entre","envers","environ","es","ès","est","et","etant","étaient","étais","était","étant","etc","été","etre","être","eu","euh","eux","eux-mêmes","excepté","f","façon","fais","faisaient","faisant","fait","feront","fi","flac","floc","font","g","gens","h","ha","hé","hein","hélas","hem","hep","hi","ho","holà","hop","hormis","hors","hou","houp","hue","hui","huit","huitième","hum","hurrah","i","il","ils","importe","j","je","jusqu","jusque","k","l","la","là","laquelle","las","le","lequel","les","lès","lesquelles","lesquels","leur","leurs","longtemps","lorsque","lui","lui-même","m","ma","maint","mais","malgré","me","même","mêmes","merci","mes","mien","mienne","miennes","miens","mille","mince","moi","moi-même","moins","mon","moyennant","n","na","ne","néanmoins","neuf","neuvième","ni","nombreuses","nombreux","non","nos","notre","nôtre","nôtres","nous","nous-mêmes","nul","o","o|","ô","oh","ohé","olé","ollé","on","ont","onze","onzième","ore","ou","où","ouf","ouias","oust","ouste","outre","p","paf","pan","par","parmi","partant","particulier","particulière","particulièrement","pas","passé","pendant","personne","peu","peut","peuvent","peux","pff","pfft","pfut","pif","plein","plouf","plus","plusieurs","plutôt","pouah","pour","pourquoi","premier","première","premièrement","près","proche","psitt","puisque","q","qu","quand","quant","quanta","quant-à-soi","quarante","quatorze","quatre","quatre-vingt","quatrième","quatrièmement","que","quel","quelconque","quelle","quelles","quelque","quelques","quelqu'un","quels","qui","quiconque","quinze","quoi","quoique","r","revoici","revoilà","rien","s","sa","sacrebleu","sans","sapristi","sauf","se","seize","selon","sept","septième","sera","seront","ses","si","sien","sienne","siennes","siens","sinon","six","sixième","soi","soi-même","soit","soixante","son","sont","sous","stop","suis","suivant","sur","surtout","t","ta","tac","tant","te","té","tel","telle","tellement","telles","tels","tenant","tes","tic","tien","tienne","tiennes","tiens","toc","toi","toi-même","ton","touchant","toujours","tous","tout","toute","toutes","treize","trente","très","trois","troisième","troisièmement","trop","tsoin","tsouin","tu","u","un","une","unes","uns","v","va","vais","vas","vé","vers","via","vif","vifs","vingt","vivat","vive","vives","vlan","voici","voilà","vont","vos","votre","vôtre","vôtres","vous","vous-mêmes","vu","w","x","y","z","zut","alors","aucuns","bon","devrait","dos","droite","début","essai","faites","fois","force","haut","ici","juste","maintenant","mine","mot","nommés","nouveaux","parce","parole","personnes","pièce","plupart","seulement","soyez","sujet","tandis","valeur","voie","voient","état","étions"]

stop_words_ar =  ['طفل', 'لا', 'نعم', 'كأيّن', 'ذِه', 'بين', 'أيلول', 'لات', 'ميم', 'كسا', 'طالما', 'ذلكن', 'كلما', 'أمس', 'كلّما', 'أخبر', 'ضاد', 'هذي', 'ه', 'إذما', 'بنا', 'ذلك', 'مكانكم', 'ثم', 'أصبح', 'أنشأ', 'أنبأ', 'عشرون', 'رجع', 'ثمَّ', 'أقبل', 'ذلكم', 'آهاً', 'بَسْ', 'اللذان', 'حدَث', 'إذ', 'سبع', 'بعض', 'ث', 'يناير', 'شرع', 'لهما', 'ذاك', 'ومن', 'أبو', 'هيهات', 'ك', 'إذن', 'أولاء', 'كم', 'فضلا', 'ذواتا', 'يا', 'تاء', 'ثاء', 'تينك', 'لم', 'عجبا', 'فيم', 'ن', 'لئن', 'خلا', 'ألفى', 'هاتان', 'أي', 'لكيلا', 'بما', 'منذ', 'يفعلان', 'جعل', 'خمسمئة', 'صراحة', 'إياهما', 'هذين', 'بل', 'ذه', 'أل', 'سرعان', 'به', 'فإن', 'عدَّ', 'ئ', 'إى', 'على', 'بَلْهَ', 'عَدَسْ', 'أجمع', 'يمين', 'آذار', 'شَتَّانَ', 'له', 'ء', 'ثمّة', 'أمام', 'تِه', 'مع', 'لسن', 'لي', 'بضع', 'فيها', 'حمو', 'ح', 'تفعلون', 'ءَ', 'حرى', 'وا', 'إيهٍ', 'خبَّر', 'ثمانين', 'تسعمائة', 'ثلاثمئة', 'بكما', 'وما', 'جانفي', 'أمسى', 'ها', 'قلما', 'لستم', 'كأين', 'ارتدّ', 'عشرة', 'لدى', 'لهم', 'ريال', 'ق', 'م', 'إياهم', 'مكانكما', 'اللائي', 'أيضا', 'ذِي', 'صار', 'ذات', 'كليكما', 'ثلاثة', 'إلا', 'ستين', 'بك', 'هاته', 'أُفٍّ', 'هن', 'ثمة', 'دولار', 'غداة', 'تسعين', 'أو', 'ذلكما', 'أسكن', 'خمسة', 'ي', 'لكي', 'مرّة', 'وإذا', 'خميس', 'هَاتانِ', 'مساء', 'آهٍ', 'لنا', 'إنا', 'كليهما', 'هما', 'ط', 'آه', 'عوض', 'كثيرا', 'سحقا', 'خال', 'آب', 'عاشر', 'أعلم', 'كان', 'حتى', 'ى', 'ذوا', 'هلا', 'ب', 'أعطى', 'ص', 'رابع', 'ما انفك', 'نيف', 'إياكم', 'هَيْهات', 'ف', 'قطّ', 'ثمانون', 'صبرا', 'حبذا', 'أنتم', 'لها', 'ألف', 'هَجْ', 'إيانا', 'أوشك', 'نبَّا', 'سرا', 'ش', 'ذواتي', 'تحت', 'س', 'أيها', 'منه', 'إلّا', 'ثلاثاء', 'لمّا', 'ز', 'بي', 'نَّ', 'هَاتِه', 'نَخْ', 'استحال', 'آض', 'اثنان', 'آناء', 'عل', 'والذي', 'حاء', 'تبدّل', 'تموز', 'زود', 'هذا', 'سين', 'إياك', 'حاشا', 'دينار', 'نفس', 'بكم', 'ممن', 'إياه', 'بؤسا', 'سبتمبر', 'تي', 'إنما', 'الذي', 'ج', 'إياي', 'هاء', 'كِخ', 'جميع', 'كلا', 'من', 'عدا', 'صهٍ', 'كأنّ', 'طرا', 'قرش', 'إليكن', 'أخذ', 'واحد', 'أ', 'ورد', 'هاك', 'في', 'اتخذ', 'وهب', 'آي', 'فيما', 'خامس', 'آهِ', 'هلم', 'هاهنا', 'طاق', 'لعل', 'مارس', 'جنيه', 'ثامن', 'أنّى', 'بغتة', 'كذلك', 'بكن', 'خلف', 'واهاً', 'آمينَ', 'دون', 'كأي', 'اخلولق', 'عين', 'ذانك', 'آها', 'بخ', 'كأن', 'قاف', 'ؤ', 'تجاه', 'ا', 'قاطبة', 'كيت', 'لا', 'يوان', 'حَذارِ', 'صدقا', 'مادام', 'أنى', 'إنَّ', 'ما برح', 'بئس', 'شتانَ', 'إي', 'فوق', 'فيه', 'هَذِي', 'ذهب', 'أهلا', 'اثنين', 'غين', 'ثلاثون', 'هناك', 'هللة', 'نيسان', 'أبدا', 'درى', 'بها', 'لكنما', 'دال', 'إياهن', 'هَذا', 'إمّا', 'ليست', 'آ', 'ظنَّ', 'تسعون', 'ما', 'أبٌ', 'حاي', 'عليه', 'تلقاء', 'أضحى', 'تارة', 'لبيك', 'سبعين', 'جمعة', 'أمد', 'هيت', 'وَيْ', 'سبت', 'تاسع', 'تانِ', 'ستون', 'ستمائة', 'سبعون', 'خمسمائة', 'بلى', 'لست', 'ساء', 'أينما', 'سبعمئة', 'هَذِه', 'جلل', 'لستما', 'هَاتِي', 'ألا', 'صبر', 'مافتئ', 'ولو', 'رويدك', 'أنتن', 'نعم', 'اثني', 'معاذ', 'إذا', 'هيا', 'حجا', 'ثمنمئة', 'خاصة', 'تسعمئة', 'رأى', 'أوه', 'أجل', 'ست', 'ذي', 'آنفا', 'أخٌ', 'والذين', 'أحد', 'علق', 'عند', 'راء', 'أخو', 'إلَيْكَ', 'تلكم', 'كلتا', 'غ', 'زاي', 'فبراير', 'ذين', 'أوت', 'مئتان', 'اللتيا', 'ثلاث', 'إن', 'فيفري', 'ظ', 'د', 'أنا', 'سقى', 'أرى', 'تخذ', 'أما', 'مئة', 'لا سيما', 'ابتدأ', 'لما', 'ل', 'عشرين', 'عسى', 'ماذا', 'الألى', 'فإذا', 'إياكن', 'غير', 'قام', 'كلاهما', 'هل', 'بسّ', 'دونك', 'راح', 'أيّان', 'غادر', 'لهن', 'نوفمبر', 'عشر', 'تشرين', 'إلى', 'جيم', 'إليكَ', 'تحوّل', 'ته', 'تسعة', 'إياها', 'فرادى', 'أنتما', 'قد', 'إذاً', 'إليك', 'بطآن', 'جويلية', 'ّأيّان', 'ذال', 'ذان', 'أولئك', 'عامة', 'اربعين', 'بات', 'ثالث', 'أربعة', 'كى', 'أيا', 'لكنَّ', 'تسع', 'اللذين', 'كن', 'مكانَك', 'كما', 'قبل', 'بخٍ', 'باء', 'فلا', 'لعمر', 'هي', 'كرب', 'بس', 'خلافا', 'سمعا', 'هَذَيْنِ', 'حار', 'اربعون', 'أصلا', 'حمدا', 'هؤلاء', 'فلان', 'ليرة', 'درهم', 'أف', 'مما', 'همزة', 'اللتين', 'تين', 'أول', 'بماذا', 'سبحان', 'مليم', 'ت', 'ثاني', 'إيه', 'بهن', 'أمامكَ', 'رُبَّ', 'ظلّ', 'هبّ', 'ثمّ', 'الألاء', 'أربعاء', 'تَيْنِ', 'إياكما', 'سوى', 'حسب', 'أربع', 'أفعل به', 'وجد', 'أنتِ', 'لسنا', 'سنتيم', 'أيار', 'اثنا', 'كلَّا', 'الآن', 'صباح', 'فو', 'فمن', 'لاسيما', 'إحدى', 'هاكَ', 'هَذانِ', 'واو', 'حيَّ', 'خمسون', 'التي', 'أن', 'وإن', 'حقا', 'مه', 'إما', 'بهم', 'مائة', 'ثلاثين', 'خمسين', 'كانون', 'كي', 'أربعمئة', 'كاف', 'تانِك', 'أكثر', 'حبيب', 'مكانكنّ', 'لعلَّ', 'هم', 'أين', 'سادس', 'أربعمائة', 'الذين', 'ريث', 'لدن', 'حيثما', 'ستة', 'هيّا', 'أفٍّ', 'بيد', 'اللواتي', 'سوف', 'ذا', 'أم', 'هو', 'خ', 'أى', 'تعسا', 'أنًّ', 'ديسمبر', 'إزاء', 'شمال', 'حزيران', 'لو', 'لوما', 'كذا', 'انقلب', 'نا', 'ما أفعله', 'تفعلان', 'يوليو', 'هذان', 'طفق', 'ليس', 'تعلَّم', 'لولا', 'مايو', 'أقل', 'إليكم', 'غالبا', 'ذانِ', 'خاء', 'نحن', 'ذو', 'هَاتَيْنِ', 'هكذا', 'سبعمائة', 'يونيو', 'صاد', 'اللتان', 'ياء', 'أمامك', 'ليت', 'كل', 'جير', 'لكما', 'يفعلون', 'شيكل', 'ماي', 'حمٌ', 'إليكنّ', 'هنالك', 'أمّا', 'مازال', 'يورو', 'ولا', 'ضحوة', 'ترك', 'تلك', 'فلس', 'كيف', 'مثل', 'لكن', 'ولكن', 'ع', 'لام', 'كأنما', 'تِي', 'ثمانية', 'كيفما', 'سابع', 'مهما', 'أفريل', 'لستن', 'بهما', 'هاتي', 'أوّهْ', 'ة', 'مذ', 'اللاتي', 'زعم', 'أولالك', 'دواليك', 'جوان', 'غدا', 'بمن', 'خمس', 'حادي', 'ثمانمئة', 'هَؤلاء', 'و', 'نون', 'هلّا', 'طَق', 'ر', 'علًّ', 'أغسطس', 'أيّ', 'صهْ', 'ذينك', 'لكم', 'هذه', 'انبرى', 'علم', 'إنه', 'وإذ', 'منها', 'حين', 'ليستا', 'بعدا', 'عاد', 'هاتين', 'عن', 'أكتوبر', 'ذَيْنِ', 'نحو', 'فاء', 'وُشْكَانَ', 'كأيّ', 'تلكما', 'ثماني', 'تفعلين', 'ذ', 'هنا', 'شبه', 'وراءَك', 'وهو', 'ظاء', 'أنت', 'كاد', 'بعد', 'أبريل', 'عيانا', 'عليك', 'ين', 'طاء', 'لن', 'ليسوا', 'سبعة', 'شين', 'ليسا', 'ثمان', 'أطعم', 'متى', 'رزق', 'حيث', 'ض', 'ستمئة', 'إليكما', 'عما', 'شباط', 'ثلاثمائة', 'شتان', 'ذيت', 'ثان', 'لك', "فى","في","كل","لم","لن","له","من","هو","هي","قوة","كما","لها","منذ","وقد","ولا","نفسه","لقاء","مقابل","هناك","وقال","وكان","نهاية","وقالت","وكانت","للامم","فيه","كلم","لكن","وفي","وقف","ولم","ومن","وهو","وهي","يوم","فيها","منها","مليار","لوكالة","يكون","يمكن","مليون","حيث","اكد","الا","اما","امس","السابق","التى","التي","اكثر","ايار","ايضا","ثلاثة","الذاتي","الاخيرة","الثاني","الثانية","الذى","الذي","الان","امام","ايام","خلال","حوالى","الذين","الاول","الاولى","بين","ذلك","دون","حول","حين","الف","الى","انه","اول","ضمن","انها","جميع","الماضي","الوقت","المقبل","اليوم","ـ","ف","و","و6","قد","لا","ما","مع","مساء","هذا","واحد","واضاف","واضافت","فان","قبل","قال","كان","لدى","نحو","هذه","وان","واكد","كانت","واوضح","مايو","ب","ا","أ","،","عشر","عدد","عدة","عشرة","عدم","عام","عاما","عن","عند","عندما","على","عليه","عليها","زيارة","سنة","سنوات","تم","ضد","بعد","بعض","اعادة","اعلنت","بسبب","حتى","اذا","احد","اثر","برس","باسم","غدا","شخصا","صباح","اطار","اربعة","اخرى","بان","اجل","غير","بشكل","حاليا","بن","به","ثم","اف","ان","او","اي","بها","صفر"]

stop_words_es =  ['básicamente', 'bebé', 'usted', 'ustedes', 'sí', 'todo', 'hemos', 'habría', 'seáis', 'poco', 'algo', 'las', 'tuvimos', 'de', 'hubieras', 'ante', 'seríais', 'otro', 'tenían', 'el', 'estés', 'él', 'hubieran', 'donde', 'fuese', 'estuviste', 'quien', 'desde', 'estuvieses', 'mías', 'habríamos', 'fuesen', 'tenido', 'habéis', 'nuestro', 'ha', 'fuera', 'habían', 'habiendo', 'mucho', 'tú', 'esta', 'fuéramos', 'ya', 'se', 'esos', 'había', 'habremos', 'habías', 'todos', 'estuvo', 'teníais', 'habríais', 'habidos', 'serías', 'a', 'te', 'sí', 'tuya', 'tu', 'habrás', 'ti', 'estuviesen', 'tenidos', 'seremos', 'hubiera', 'sin', 'vuestros', 'estuviésemos', 'tendría', 'hubiesen', 'durante', 'mi', 'mía', 'algunos', 'estás', 'seréis', 'serán', 'tuviera', 'tened', 'ni', 'nuestras', 'tuviésemos', 'estadas', 'tuvieran', 'hasta', 'ella', 'estáis', 'estuvieran', 'hubieron', 'estaremos', 'eran', 'tendréis', 'fui', 'tuviste', 'ellas', 'que', 'tengas', 'tengáis', 'estuvisteis', 'seamos', 'sentida', 'estuvierais', 'habíamos', 'nosotras', 'estas', 'algunas', 'os', 'estoy', 'suya', 'estamos', 'unos', 'tuviese', 'sentid', 'sobre', 'esto', 'habíais', 'le', 'siente', 'mis', 'o', 'entre', 'tanto', 'quienes', 'seas', 'fue', 'un', 'tenéis', 'tuvieras', 'mío', 'vuestro', 'estábamos', 'tenida', 'estaríamos', 'tuvisteis', 'estando', 'tuvieses', 'estuve', 'estarías', 'fuisteis', 'tuviéramos', 'otras', 'hubo', 'vosotras', 'es', 'sintiendo', 'tenías', 'tienen', 'han', 'tengamos', 'e', 'antes', 'habréis', 'tendríais', 'hayáis', 'tendrían', 'este', 'tengo', 'pero', 'esa', 'esté', 'estaban', 'estabais', 'hube', 'vuestra', 'otros', 'fueran', 'estaría', 'hubiste', 'muy', 'hubiese', 'estuvieras', 'estará', 'estados', 'fueron', 'estuvieseis', 'tus', 'estaríais', 'cual', 'me', 'estar', 'otra', 'estad', 'eso', 'erais', 'suyos', 'lo', 'hubimos', 'hubieses', 'tuyas', 'vuestras', 'he', 'no', 'hayan', 'sean', 'era', 'tendrá', 'nada', 'ellos', 'habido', 'contra', 'estabas', 'su', 'habré', 'estuviéramos', 'sentido', 'tuvo', 'está', 'porque', 'tuviesen', 'son', 'estéis', 'ese', 'habrías', 'hubierais', 'hayas', 'tienes', 'estada', 'como', 'tuyos', 'fuésemos', 'habrían', 'fuiste', 'tengan', 'tendré', 'estuviera', 'has', 'sea', 'con', 'tendremos', 'tuvieseis', 'serían', 'habidas', 'más', 'serás', 'estarían', 'seríamos', 'para', 'nos', 'vosotros', 'nuestros', 'soy', 'será', 'tenía', 'teniendo', 'estuviese', 'estos', 'estaba', 'estaréis', 'por', 'tuvierais', 'qué', 'míos', 'eras', 'estuvieron', 'la', 'tuyo', 'estuvimos', 'éramos', 'están', 'sentidos', 'tendrías', 'hay', 'fuerais', 'también', 'yo', 'estarán', 'hubiésemos', 'tendrán', 'sentidas', 'del', 'tiene', 'tenga', 'muchos', 'tuve', 'somos', 'suyas', 'les', 'sus', 'cuando', 'fueseis', 'uno', 'hubiéramos', 'estén', 'fueses', 'habrán', 'habida', 'tendrás', 'teníamos', 'una', 'estarás', 'estemos', 'haya', 'en', 'nosotros', 'fuimos', 'tendríamos', 'hubieseis', 'eres', 'hubisteis', 'habrá', 'sois', 'seré', 'esas', 'sería', 'tuvieron', 'estaré', 'estado', 'hayamos', 'suyo', 'fueras', 'mí', 'y', 'al', 'nuestra', 'tenidas', 'tenemos', 'los', "algún","alguna","algunas","alguno","algunos","ambos","ampleamos","ante","antes","aquel","aquellas","aquellos","aqui","arriba","atras","bajo","bastante","bien","cada","cierta","ciertas","cierto","ciertos","como","con","conseguimos","conseguir","consigo","consigue","consiguen","consigues","cual","cuando","dentro","desde","donde","dos","el","ellas","ellos","empleais","emplean","emplear","empleas","empleo","en","encima","entonces","entre","era","eramos","eran","eras","eres","es","esta","estaba","estado","estais","estamos","estan","estoy","fin","fue","fueron","fui","fuimos","gueno","ha","hace","haceis","hacemos","hacen","hacer","haces","hago","incluso","intenta","intentais","intentamos","intentan","intentar","intentas","intento","ir","la","largo","las","lo","los","mientras","mio","modo","muchos","muy","nos","nosotros","otro","para","pero","podeis","podemos","poder","podria","podriais","podriamos","podrian","podrias","por","por qué","porque","primero","puede","pueden","puedo","quien","sabe","sabeis","sabemos","saben","saber","sabes","ser","si","siendo","sin","sobre","sois","solamente","solo","somos","soy","su","sus","también","teneis","tenemos","tener","tengo","tiempo","tiene","tienen","todo","trabaja","trabajais","trabajamos","trabajan","trabajar","trabajas","trabajo","tras","tuyo","ultimo","un","una","unas","uno","unos","usa","usais","usamos","usan","usar","usas","uso","va","vais","valor","vamos","van","vaya","verdad","verdadera","verdadero","vosotras","vosotros","voy","yo","él","ésta","éstas","éste","éstos","última","últimas","último","últimos","a","añadió","aún","actualmente","adelante","además","afirmó","agregó","ahí","ahora","al","algo","alrededor","anterior","apenas","aproximadamente","aquí","así","aseguró","aunque","ayer","buen","buena","buenas","bueno","buenos","cómo","casi","cerca","cinco","comentó","conocer","consideró","considera","contra","cosas","creo","cuales","cualquier","cuanto","cuatro","cuenta","da","dado","dan","dar","de","debe","deben","debido","decir","dejó","del","demás","después","dice","dicen","dicho","dieron","diferente","diferentes","dijeron","dijo","dio","durante","e","ejemplo","ella","ello","embargo","encuentra","esa","esas","ese","eso","esos","está","están","estaban","estar","estará","estas","este","esto","estos","estuvo","ex","existe","existen","explicó","expresó","fuera","gran","grandes","había","habían","haber","habrá","hacerlo","hacia","haciendo","han","hasta","hay","haya","he","hecho","hemos","hicieron","hizo","hoy","hubo","igual","indicó","informó","junto","lado","le","les","llegó","lleva","llevar","luego","lugar","más","manera","manifestó","mayor","me","mediante","mejor","mencionó","menos","mi","misma","mismas","mismo","mismos","momento","mucha","muchas","mucho","nada","nadie","ni","ningún","ninguna","ningunas","ninguno","ningunos","no","nosotras","nuestra","nuestras","nuestro","nuestros","nueva","nuevas","nuevo","nuevos","nunca","o","ocho","otra","otras","otros","parece","parte","partir","pasada","pasado","pesar","poca","pocas","poco","pocos","podrá","podrán","podría","podrían","poner","posible","próximo","próximos","primer","primera","primeros","principalmente","propia","propias","propio","propios","pudo","pueda","pues","qué","que","quedó","queremos","quién","quienes","quiere","realizó","realizado","realizar","respecto","sí","sólo","se","señaló","sea","sean","según","segunda","segundo","seis","será","serán","sería","sido","siempre","siete","sigue","siguiente","sino","sola","solas","solos","son","tal","tampoco","tan","tanto","tenía","tendrá","tendrán","tenga","tenido","tercera","toda","todas","todavía","todos","total","trata","través","tres","tuvo","usted","varias","varios","veces","ver","vez","y","ya"]

curses = []
#DirtyWords list by https://github.com/turalus/encycloDB
with open('./DirtyWords.csv') as csv_file:
    csv_reader = csv.reader(csv_file, delimiter=',')
    next(csv_reader, None)#Skip header
    for row in csv_reader:
        langs = ["en", "fr", "ar", "es"]
        if(row[2] in langs):
            curses.append(row[1])

#Stopwords should be separated for better precision
stop_words = stop_words_en + stop_words_fr + stop_words_ar + stop_words_es + curses

def tokenize_text(text, language="en-US"):  
  tokens = [
    word 
    for word in re.split("\W+", text.lower())
    if word not in stop_words and len(word)>1 and word.isnumeric() == False and word.isalnum() == True 
  ]
  return tokens

def get_freqDist(text, corpus=None, language="en-US"):
  freqDist = FreqDist()
  for word in tokenize_text(text, language=language):
        freqDist[word] += 1
  if(corpus != None):
    return ponderate_freqDist(freqDist, corpus)
  return freqDist

def ponderate_freqDist(freqs, corpus):
  corpusFreqs = get_freqDist(corpus)
  D = 1 + 1
  freqDist = FreqDist()
  for word in freqs:
    tf = 0.5+0.5*(freqs.freq(word)/freqs.freq(freqs.max()))#TFIDF Normalized to max
    df = 1 + int(corpusFreqs.freq(word)>0)
    idf = math.log(D/df)
    if(idf == 0):
      idf = 0.2 #Corpus words ponderation : should be improved
    freqDist[word] = tf*idf
  return freqDist
